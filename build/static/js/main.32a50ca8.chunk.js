(this["webpackJsonptutorial-09-sdk"]=this["webpackJsonptutorial-09-sdk"]||[]).push([[0],{53:function(e,t,a){"use strict";a.r(t);var r=a(10),c=a.n(r),n=a(38),i=a.n(n),s=a(12),o=a(0),j=a.n(o),l=a(2),b=a(39),d=Object(b.a)({apiKey:"AIzaSyBmM2mB3up-ImDIZUVJTqqCOjK3k7u6O-Q",authDomain:"mp-proyecto.firebaseapp.com",projectId:"mp-proyecto",storageBucket:"mp-proyecto.appspot.com",messagingSenderId:"722409599666",appId:"1:722409599666:web:3d4b887ea3c7144fcd4fab"}),u=a(24),h=a(22),O=a(54),x=a(55),p=a(57),m=a(58),g=a(41),f=a(17),v=a(56),y=a(27),w=a(5),I=Object(h.c)(d),k=(Object(y.b)(d),function(e){var t=e.correoUsuario,a=e.setArrayMedias,r=e.arrayMedias;function c(){return(c=Object(l.a)(j.a.mark((function e(c){var n,i,s,o,l,b,d,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.preventDefault(),n=c.target.formnombre.value,i=c.target.idRating.value,s=c.target.idList.value,o=c.target.formComentario.value,""==l?(console.log(l),alert("\xa1INGRESE UNA FECHA V\xc1LIDA POR FAVOR!")):l=c.target.idFecha.value,b=c.target.idCategoria.value,d=[].concat(Object(f.a)(r),[{id:+new Date,nombre:n,rating:i,lista:s,comentario:o,fecha:l,categoria:b}]),u=Object(h.a)(I,"usuarios/".concat(t)),Object(h.e)(u,{Medias:Object(f.a)(d)}),a(d),c.target.formnombre.value="",c.target.idRating.value="1",c.target.idList.value="Pendiente",c.target.formComentario.value="",c.target.idFecha.value="",c.target.idCategoria.value="Pel\xedcula";case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(w.jsxs)(O.a,{children:[Object(w.jsx)(v.a,{onSubmit:function(e){return c.apply(this,arguments)},children:Object(w.jsxs)(x.a,{className:"mb-5",children:[Object(w.jsxs)(g.a,{children:[Object(w.jsx)("h6",{children:" MEDIA "}),Object(w.jsx)(v.a.Control,{type:"text",placeholder:"Nombre",id:"formnombre"})]}),Object(w.jsxs)(g.a,{children:[Object(w.jsx)("h6",{children:" RATING "}),Object(w.jsx)(p.a,{variant:"",children:Object(w.jsxs)("select",{id:"idRating",children:[Object(w.jsx)("option",{value:"1",children:"1"}),Object(w.jsx)("option",{value:"2",children:"2"}),Object(w.jsx)("option",{value:"3",children:"3"}),Object(w.jsx)("option",{value:"4",children:"4"}),Object(w.jsx)("option",{value:"5",children:"5"})]})})]}),Object(w.jsxs)(g.a,{children:[Object(w.jsx)("h6",{children:" LISTA "}),Object(w.jsx)("a",{children:Object(w.jsx)(p.a,{variant:"",children:Object(w.jsxs)("select",{id:"idList",children:[Object(w.jsx)("option",{value:"Pendiente",children:"Pendiente"}),Object(w.jsx)("option",{value:"Visto",children:"Visto"})]})})})]}),Object(w.jsxs)(g.a,{children:[Object(w.jsx)("h6",{children:" COMENTARIO "}),Object(w.jsx)(v.a.Control,{type:"text",placeholder:"Comentario",id:"formComentario"})]}),Object(w.jsxs)(g.a,{children:[Object(w.jsx)("h6",{children:" FECHA "}),Object(w.jsx)("label",{for:"idFecha"}),Object(w.jsx)("input",{type:"date",id:"idFecha",name:"idFecha",min:"1900-01-01",max:"2200-01-01"})]}),Object(w.jsxs)(g.a,{children:[Object(w.jsx)("h6",{children:" CATEGOR\xcdA "}),Object(w.jsx)("a",{children:Object(w.jsx)(p.a,{variant:"",children:Object(w.jsxs)("select",{id:"idCategoria",children:[Object(w.jsx)("option",{value:"Pel\xedcula",children:"Pel\xedcula"}),Object(w.jsx)("option",{value:"Serie",children:"Serie"}),Object(w.jsx)("option",{value:"Libro",children:"Libro"}),Object(w.jsx)("option",{value:"Otro",children:"Otro..."})]})})})]}),Object(w.jsx)(g.a,{}),Object(w.jsx)(g.a,{children:Object(w.jsx)(p.a,{type:"submit",children:" AGREGAR "})})]})}),Object(w.jsx)("hr",{})]})}),M=Object(h.c)(d),C=function(e){var t=e.arrayMedias,a=e.correoUsuario,r=e.setArrayMedias;function c(){return(c=Object(l.a)(j.a.mark((function e(c){var n,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.filter((function(e){return e.id!==c})),i=Object(h.a)(M,"usuarios/".concat(a)),Object(h.e)(i,{Medias:Object(f.a)(n)}),r(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(w.jsx)(O.a,{children:Object(w.jsx)(m.a,{children:t.map((function(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(x.a,{children:[Object(w.jsxs)(g.a,{children:[" ",e.nombre," "]}),Object(w.jsxs)(g.a,{children:[" ",e.rating," "]}),Object(w.jsxs)(g.a,{children:[" ",e.lista," "]}),Object(w.jsxs)(g.a,{children:[" ",e.comentario," "]}),Object(w.jsxs)(g.a,{children:[" ",e.fecha," "]}),Object(w.jsxs)(g.a,{children:[" ",e.categoria," "]}),Object(w.jsx)(g.a,{children:Object(w.jsx)("a",{href:"https://www.youtube.com/results?search_query=Tr\xe1iler+"+e.nombre,target:"_blank",children:Object(w.jsx)(p.a,{size:"sm",variant:"success",children:"TR\xc1ILER "})})}),Object(w.jsx)(g.a,{children:Object(w.jsx)(p.a,{variant:"danger",onClick:function(){return function(e){return c.apply(this,arguments)}(e.id)},children:"ELIMINAR"})})]}),Object(w.jsx)("hr",{})]})}))})})},S=Object(u.c)(d),A=Object(h.c)(d),R=(Object(y.b)(d),function(e){var t=e.correoUsuario,a=Object(r.useState)(null),c=Object(s.a)(a,2),n=c[0],i=c[1],o=[{id:1,nombre:"Media 1",rating:1,lista:"Pendiente",comentario:"mala",fecha:"2021-10-15",url:"https://picsum.photos/420"},{id:2,nombre:"Media 2",rating:2,lista:"Visto",comentario:"ok",fecha:"2021-11-16",url:"https://picsum.photos/420"},{id:3,nombre:"Media 3",rating:4,lista:"Pendiente",comentario:"buena",fecha:"2021-12-17",url:"https://picsum.photos/420"}];function b(e){return d.apply(this,arguments)}function d(){return(d=Object(l.a)(j.a.mark((function e(t){var a,r,c,n,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(h.a)(A,"usuarios/".concat(t)),e.next=3,Object(h.b)(a);case 3:if(!(r=e.sent).exists()){e.next=9;break}return c=r.data(),e.abrupt("return",c.Medias);case 9:return e.next=11,Object(h.d)(a,{Medias:[].concat(o)});case 11:return e.next=13,Object(h.b)(a);case 13:return n=e.sent,i=n.data(),e.abrupt("return",i.Medias);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:a=e.sent,i(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),Object(w.jsxs)(O.a,{children:[Object(w.jsx)(x.a,{children:Object(w.jsx)(p.a,{variant:"secondary",style:{marginLeft:"auto",width:150},onClick:function(){return Object(u.g)(S)},children:" Cerrar Sesi\xf3n"})}),Object(w.jsxs)(m.a,{gap:3,children:[Object(w.jsx)("h1",{align:"center",children:" \xa1Bienvenida/o! "}),Object(w.jsx)(x.a,{children:Object(w.jsx)(g.a,{children:Object(w.jsx)("h6",{children:Object(w.jsx)("div",{children:Object(w.jsx)("img",{src:"logo-MediaPila.png",width:"200",height:"200",id:"logo-MediaPila",style:{alignSelf:"center"}})})})})}),Object(w.jsxs)("h4",{children:[" ",t," "]}),Object(w.jsx)("hr",{}),Object(w.jsx)(k,{arrayMedias:n,setArrayMedias:i,correoUsuario:t}),n?Object(w.jsx)(C,{arrayMedias:n,setArrayMedias:i,correoUsuario:t}):null]})]})}),E=Object(u.c)(d),P=new u.a,L=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1];function n(){return(n=Object(l.a)(j.a.mark((function e(t){var r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=t.target.formBasicEmail.value,c=t.target.formBasicPassword.value,!a){e.next=17;break}return e.prev=4,e.next=7,Object(u.b)(E,r,c);case 7:e.sent,console.log(r,c),console.log(t.message),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),alert("\xa1CORREO YA REGISTRADO!");case 15:e.next=27;break;case 17:return e.prev=17,e.next=20,Object(u.e)(E,r,c);case 20:console.log(r,c),console.log(t.message),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(17),alert("\xa1DATOS INV\xc1LIDOS!");case 27:case"end":return e.stop()}}),e,null,[[4,12],[17,24]])})))).apply(this,arguments)}return Object(w.jsx)(O.a,{children:Object(w.jsxs)(m.a,{gap:3,children:[Object(w.jsxs)("h1",{children:[a?"Registrarse":"Iniciar Sesi\xf3n"," "]}),Object(w.jsxs)(v.a,{onSubmit:function(e){return n.apply(this,arguments)},children:[Object(w.jsxs)(v.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(w.jsx)(v.a.Label,{children:"Correo Electr\xf3nico"}),Object(w.jsx)(v.a.Control,{type:"email",placeholder:"Ingrese su email"})]}),Object(w.jsxs)(v.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(w.jsx)(v.a.Label,{children:"Contrase\xf1a"}),Object(w.jsx)(v.a.Control,{type:"password",placeholder:"******"})]}),Object(w.jsx)(p.a,{variant:"dark",type:"submit",children:a?"Registrarse":"Iniciar Sesi\xf3n"})]}),Object(w.jsx)(p.a,{variant:"primary",type:"submit",style:{width:"300px"},onClick:function(){return Object(u.f)(E,P)},children:"Acceder con Google"}),Object(w.jsx)(p.a,{style:{width:"300px"},variant:"secondary",onClick:function(){return c(!a)},children:a?"\xbfYa ten\xe9s cuenta? Iniciar Sesi\xf3n":"\xbfNo ten\xe9s cuenta? Registrarse"}),Object(w.jsx)("hr",{}),Object(w.jsx)(x.a,{children:Object(w.jsxs)("div",{children:[Object(w.jsx)("img",{src:"logo-twitter.png",width:"25",height:"20",id:"logo-twitter",style:{alignSelf:"center"}}),"Segu\xednos en Twitter:",Object(w.jsx)("a",{href:"https://twitter.com/MediaPilaOf",target:"_blank",children:" @MediaPilaOf"})]})}),Object(w.jsx)(x.a,{children:Object(w.jsxs)("div",{children:[Object(w.jsx)("img",{src:"logo-Instagram.png",width:"25",height:"25",id:"logo-Instagram",style:{alignSelf:"center"}}),"Segu\xednos en Instagram:",Object(w.jsx)("a",{href:"https://www.instagram.com/mediapilaof/",target:"_blank",children:" @mediapilaof"})]})})]})})},N=Object(u.c)(d);var D=function(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(u.d)(N,(function(e){c(e||null)})),Object(w.jsx)(w.Fragment,{children:a?Object(w.jsx)(R,{correoUsuario:a.email}):Object(w.jsx)(L,{})})};a(52);i.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(D,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.32a50ca8.chunk.js.map